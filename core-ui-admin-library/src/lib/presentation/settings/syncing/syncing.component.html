<nav aria-label="breadcrumb" class="d-flex align-items-center justify-content-between my-3 height-2">
    <p-breadcrumb class="max-w-full fw-medium" [model]="items" [home]="home"></p-breadcrumb>
    <button type="button" class="btn btn-primary btn-sm" *ngIf="value === 1" (click)="UploadDeadlinePeriod()" id="upload-deadline-btn">Upload
        Deadline Period</button>
</nav>

<div class="d-block d-md-flex flex-auto flex-row h-64 bg-transparent gap-10">
    <div class="min-w-md-16 px-3 py-md-3 px-md-3 bg-white overflow-auto vh-md-140 rounded-px-4">
        <div class="nav nav-tabs flex-md-column" id="v-pills-tab" role="tablist" aria-orientation="vertical">
            <button type="button" #skillsTabButton (click)="value = 0" class="nav-link text-start"
                [ngClass]="!accessService.hasPermission(Permissions.SETTINGS_PAGE_SYNCING_VIEW_DETAILS) ? 'color-gray-500 pe-none' : ''"
                [class.active]="value === 0" label="" id="settings-syncing-tab-btn">
                Syncing
            </button>

            <!-- <button type="button" (click)="value = 1" class="nav-link text-start bg-none" [class.active]="value === 1"
                label="" id="settings-deadline-tab-btn">
                Deadline Periods
            </button> -->
        </div>
    </div>

    <div class="d-flex flex-auto position-relative flex-column overflow-auto vh-md-140">
      <progress-loading loaderKey="Settings_SyncingTab"></progress-loading>
      <p-tabs [value]="value">
            <p-tabpanels class="p-0 bg-transparent">
                <div *ngIf="value === 0">
                    <div class="bg-white rounded-px-4">
                        <div class="w-100 d-flex py-3 px-20 border-bottom border-gray-300">
                            <div class="w-50">
                                <h6 class="m-0 text-black">Workers synchronization</h6>
                                <span class="color-gray-600 fs-14 fw-normal">
                                    (Last synced {{ formateDateTime(serviceWorkerSyncTime?.syncTime) }} -
                                    {{ serviceWorkerSyncTime?.count }} new records updated)
                                </span>
                            </div>

                            <div class="w-50">
                                <h6 class="m-0 text-black">Users synchronization</h6>
                                <span class="color-gray-600 fs-14 fw-normal">
                                    (Last synced {{ formateDateTime(usersSyncing?.syncTime) }} -
                                    {{ usersSyncing?.count }} new records updated)
                                </span>
                            </div>
                        </div>

                        <div class="w-100 d-flex py-3 px-20">
                            <div class="d-flex align-items-center w-50">
                               <div class="ms-5">
                                 <button type="button" class="btn btn-primary btn-sm min-w-8 ms-5"
                                    [ngClass]="!accessService.hasPermission(Permissions.SYNC_ELIGA_WORKERS) ? 'color-gray-500 pe-none' : ''"
                                    (click)="syncWorkers()" id="sync-workers-btn">Sync Workers</button>
                               </div>
                            </div>

                            <div class="d-flex align-items-center w-50">
                               <div class="ms-5">
                                 <button type="button" class="btn btn-primary btn-sm min-w-8 ms-5"
                                    [ngClass]="!accessService.hasPermission(Permissions.SYNC_USERS) ? 'color-gray-500 pe-none' : ''"
                                    (click)="syncUsers()" id="sync-users-btn">Sync Users</button>
                               </div>
                            </div>
                        </div>

                        <div class="w-100 d-flex py-3 px-20">
                            <div class="w-50">
                                <h6 class="m-0 text-black">Vehicles synchronization</h6>
                                <span class="color-gray-600 fs-14 fw-normal">
                                    (Last synced {{ formateDateTime(vehiclesSyncing?.syncTime) }} -
                                    {{ vehiclesSyncing?.count }} new records updated)
                                </span>
                            </div>
                        </div>

                        <div class="w-100 d-flex py-3 px-20">
                            <div class="d-flex align-items-center w-50">
                               <div class="ms-5">
                                 <button type="button" class="btn btn-primary btn-sm min-w-8 ms-5"
                                    [ngClass]="!accessService.hasPermission(Permissions.SYNC_VEHICLES) ? 'color-gray-500 pe-none' : ''"
                                    (click)="syncVehicles()" id="sync-vehicles-btn">Sync Vehicles</button>
                               </div>
                            </div>
                        </div>
                    </div>


                    <!--
                <p-accordion [(activeIndex)]="activeIndex"  (onOpen)="onAccordionOpen($event)" (onClose)="onAccordionClose($event)" [multiple]="true" [value]="['0']" expandIcon="fa fa-chevron-down fs-16 color-gray-800" collapseIcon="fa fa-chevron-up fs-16 color-gray-800">

                    <p-accordion-panel class="mb-3" value="0"  >
                        <p-accordion-header class="rounded-top-start-4 rounded-top-end-4" [ngClass]="{'rounded-bottom-end-4 rounded-bottom-start-4': !this.activeAccordionIds.has('0')}">
                            <div class="w-100 d-flex align-items-baseline">

                                <div class="w-50">
                                    <h6 class="m-0 text-black">ELIGA-DAO workers synchronization</h6>
                                    <span class="color-gray-600 fs-14 fw-normal">
                                        (Last synced {{ formateDateTime(eligaServiceWorkerSyncTime?.syncTime) }} -
                                        {{ eligaServiceWorkerSyncTime?.count }} new records updated)
                                    </span>
                                </div>

                                <div class="w-50">
                                    <h6 class="m-0 text-black">ELIGA-BK workers synchronization</h6>
                                    <span class="color-gray-600 fs-14 fw-normal">
                                        (Last synced {{ formateDateTime(eligaBKServiceWorkerSyncTime?.syncTime)}} -
                                        {{ eligaBKServiceWorkerSyncTime?.count }} new records updated)
                                    </span>
                                </div>

                            </div>

                        </p-accordion-header>

                        <p-accordion-content class="rounded-bottom-end-4 rounded-bottom-start-4 border-gray-300 border-top">
                            <div class="p-3 d-flex">

                                <div class="form-group d-flex align-items-center gap-20 w-50">
                                    <label class="form-label min-w-6 mb-0"></label>
                                    <button type="button" class="btn btn-primary btn-sm min-w-8"
                                        [ngClass]="!accessService.hasPermission(Permissions.SYNC_ELIGA_WORKERS) ? 'color-gray-500 pe-none' : ''"
                                        (click)="syncEligaWorkers()">Sync Workers</button>
                                </div>

                                <div class="form-group d-flex align-items-center gap-20 w-50">
                                    <label class="form-label min-w-6 mb-0"></label>
                                    <button type="button" class="btn btn-primary btn-sm min-w-8"
                                        [ngClass]="!accessService.hasPermission(Permissions.SYNC_ELIGA_WORKERS) ? 'color-gray-500 pe-none' : ''"
                                        (click)="syncEligaBKWorkers()">Sync Workers</button>
                                </div>
                            </div>
                        </p-accordion-content>
                    </p-accordion-panel>

                    <p-accordion-panel class="mb-3" value="2"
                        headerStyleClass="pe-12 flex-row-reverse align-items-center justify-content-between">
                        <p-accordion-header class="w-100 d-flex rounded-top-start-4 rounded-top-end-4" [ngClass]="{'rounded-bottom-end-4 rounded-bottom-start-4': !this.activeAccordionIds.has('2')}">
                            <div class="w-50">
                                <h6 class="m-0 text-black">ELIGA-DAO users synchronization</h6>
                                <span class="color-gray-600 fs-14 fw-normal">
                                    (Last synced {{ formateDateTime(userSyncTime?.syncTime) }} -
                                    {{ userSyncTime?.count }} new records updated)
                                </span>
                            </div>

                            <div class="w-50">
                                <h6 class="m-0 text-black">ELIGA-BK users synchronization</h6>
                                <span class="color-gray-600 fs-14 fw-normal">
                                    (Last synced {{ formateDateTime(userBKSyncTime?.syncTime)}} -
                                    {{ userBKSyncTime?.count }} new records updated)
                                </span>
                            </div>
                        </p-accordion-header>
                        <p-accordion-content class="rounded-bottom-end-4 rounded-bottom-start-4 border-gray-300 border-top">
                            <div class="p-3 d-flex">
                                <div class="form-group d-flex align-items-center gap-20 w-50">
                                    <label class="form-label min-w-6 mb-0"></label>
                                    <button type="button" class="btn btn-primary btn-sm min-w-8"
                                        [ngClass]="!accessService.hasPermission(Permissions.SYNC_USERS) ? 'color-gray-500 pe-none' : ''"
                                        (click)="syncUser()">Sync Users</button>
                                </div>

                                <div class="form-group d-flex align-items-center gap-20 w-50">
                                    <label class="form-label min-w-6 mb-0"></label>
                                    <button type="button" class="btn btn-primary btn-sm min-w-8"
                                        [ngClass]="!accessService.hasPermission(Permissions.SYNC_USERS) ? 'color-gray-500 pe-none' : ''"
                                        (click)="syncBKUser()">Sync Users</button>
                                </div>
                            </div>
                        </p-accordion-content>
                    </p-accordion-panel>
                </p-accordion> -->
                </div>

                <div *ngIf="false"> <!-- value === 1 -->
                    <lib-deadline-periods></lib-deadline-periods>
                </div>

            </p-tabpanels>
        </p-tabs>


    </div>
</div>
