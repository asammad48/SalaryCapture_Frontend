<div class="p-dialog-body my-0 py-20" [ngClass]="isFileUploaded ? 'min-h-25':''">
    <div class="w-100">
        <div class="mb-3">
            <label for="fileName" class="form-label text-capitalize">Deadline Period Name</label>
            <input placeholder="Enter deadline period name" [(ngModel)]="fileName" name="fileName" id="upload-filename-input"
                class="form-control" />
        </div>
    </div>
    <div>
        <div class="mt-3 w-100">
            <div>
                <label for="masterPlanId" class="form-label d-block mb-2">Upload Deadline Period </label>
                <p-fileUpload name="planZipFile" (onSelect)="onSelect($event)"
                    styleClass="p-progressbar-none drag-area upload-files-outside upload-files-top-170 upload-content-h-160 upload-choose-top-10 deadline-uploader"
                    [multiple]="false" [auto]="true" [customUpload]="true" [maxFileSize]="maxFileSize">
                    <ng-template #header let-chooseCallback="chooseCallback" class="py-0 flex-column">
                        <div class="z-index-99 d-flex flex-column align-items-center">
                          <h5 class="fs-16 fw-semibold mt-2">Drag & Drop your file here or</h5>
                          <button class="btn btn-text btn-link fs-16 py-0 fileupload-choose" (click)="choose($event, chooseCallback)" id="browse-file-btn">
                            Browse File
                          </button>
                          <h5 class="fs-13 fw-regular mt-2">CSV or XLSX - Maximum file size: 5 MB</h5>

                          <!-- Moved a-tag inside the flex column container -->
                          <a
                            [href]="fileURL"
                            class="d-block fs-16 fw-regular text-decoration-underline color-gray-900 mt-2"
                           id="download-sample-file-link">
                            <i class="z-index-1 fa fa-sign-in fa-rotate-90 fs-22 color-gray-600 me-2"></i>
                            Download sample file
                          </a>
                        </div>
                      </ng-template>

                    <ng-template let-file pTemplate="file">
                        <div class="custom-file-item">
                            <div *ngIf="isFileUploaded">
                                <label for="masterPlanId" class="form-label d-block">File</label>
                                <div
                                    class="border border-gray-400 rounded-px-4 px-12 py-2 d-flex align-items-center justify-content-between height-px-38 gap-2">
                                    <div class="d-flex align-items-center gap-3 flex-1">
                                        <i class="color-gray-600 fa fa-file"></i>
                                        <div class="fs-14 fw-regular line-clamp-1 text-break" [title]="file.name">
                                            {{ file.name }}
                                        </div>
                                    </div>
                                    <div class="d-flex justify-content-end align-items-center gap-4">
                                        <ng-container>
                                            <div class="d-flex gap-2 w-100">
                                                <p-progressBar [value]="progressBarValue" class="d-block w-100"
                                                    styleClass="height-px-6 width-15 position-relative mt-2 start-0 bg-gray-400 p-progressbar-label-none d-block"></p-progressBar>
                                                <span class="color-gray-600 fs-12">{{ progressBarValue }}%</span>
                                            </div>
                                        </ng-container>
                                        <a href="javascript:void(0)"><i (click)="cancelFile(file)" id="remove-uploaded-file-icon"
                                                class="color-gray-600 fa fa-times fs-14 hover-danger"></i></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-template>
                </p-fileUpload>
                <span *ngIf="fileErrorMessage" class="text-danger">
                    {{ fileErrorMessage }}
                </span>
            </div>

        </div>
    </div>
</div>


<div class="p-dialog-footer border-top-0">
    <button type="button" class="btn btn-sm color-gray-600" (click)="cancel()" id="cancel-upload-deadline-btn">
        Cancel
    </button>
    <button [disabled]="isFileUploaded === false || progressBarValue !== 100 || fileName === null || fileName === ''"
        (click)="upload()" type="submit" class="btn btn-primary btn-sm me-0" id="save-upload-deadline-btn">
        Save
    </button>
</div>
